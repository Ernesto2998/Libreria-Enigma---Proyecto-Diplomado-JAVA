<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="es">
<head th:replace="~{plantillas/plantilla :: head}"></head>
<body>
<header th:replace="~{plantillas/plantilla :: header}"></header>
<main class="container">
    <div class="container text-center">

        <div class="shadow-lg p-3 my-5 bg-body-tertiary rounded">
            <h1 th:text="${contenido}"></h1>
        </div>

        <div class="row mb-3">
            <div class="container text-start bg-body-tertiary rounded py-3">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Fecha 1" aria-label="Fecha 1">
                    <span class="input-group-text">@</span>
                    <input type="text" class="form-control" placeholder="Fecha 2" aria-label="Fecha 2">
                </div>
                <button type="submit" class="btn btn-primary">Generar reporte de venta</button>
            </div>
        </div>

        <div class="shadow-lg p-3 my-5 bg-body-tertiary rounded">
            <table th:if="${!listaHistorial.isEmpty()}" class="table table-hover">
                <thead>
                <tr>
                    <th scope="col">#Venta</th>
                    <th scope="col">Fecha</th>
                    <th scope="col">Libro</th>
                    <th scope="col">Precio</th>
                    <th scope="col">Cantidad</th>
                    <th scope="col">Total</th>
                    <th scope="col">Total Final</th>
                    <th sec:authorize="hasRole('ADMIN')">Acciones</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="lHistorial: ${listaHistorial}">
                    <td th:text="${lHistorial.venta.numVenta}"></td>
                    <td th:text="${lHistorial.venta.fechaVenta}"></td>
                    <td th:text="${lHistorial.libro.titulo}"></td>
                    <td th:text="${lHistorial.libro.precio}"></td>
                    <td th:text="${lHistorial.cantidadLibros}"></td>
                    <td th:text="${lHistorial.libro.precio}"></td>
                    <td th:text="${lHistorial.libro.precio}"></td>
                    <td>
                        <div sec:authorize="hasRole('ADMIN')">
                            <a th:href="@{/libreria/historial-ventas/edit-historial/{id} (id=${lHistorial.id})}"
                               class="btn btn-success">Modificar <i class="fas fa-pen-nib" aria-hidden="true"></i>
                            </a>
                            <a th:href="@{/libreria/historial-ventas/delete-historial/{id} (id=${lHistorial.id})}"
                               class="btn btn-danger">Eliminar <i class="fas fa-trash-alt" aria-hidden="true"></i>
                            </a>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>


    </div>
</main>
<footer th:replace="~{plantillas/plantilla :: footer}"></footer>
</body>
</html>